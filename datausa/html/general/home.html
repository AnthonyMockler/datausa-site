{% extends "templates/nav.html" %}

{% block body %}
<div class="home-container">
	<div class="bg parallax">
		<div class="parallax__group">
			<div class="bg-filter landing parallax__layer parallax__layer--4"></div>
			<div class="bg-img landing parallax__layer parallax__layer--3"></div>
			<div class="bg-filter featured-start parallax__layer parallax__layer--2"></div>
			<div class="bg-img featured parallax__layer parallax__layer--2"></div>
		</div>
	</div>

<div class="content">
	<article class="landing">

		<img class="logo" src="/static/img/home/logo_2.png" alt="DataUSA" />
		
		<section id="search-home">
			<a href="#" id="search-switch" class="adv" onclick="advSearch.toggle();">Advanced Search</a>
			<input type="text" data-search="home" placeholder="Search a profile&hellip;" id="home-search-input" class="search-input" />
			<div class="search-body">

				<a href="/search">
					<span class="icon-search sm"></span>
					Search for '<span class="search-input-text"></span>'.
				</a>

				<div class="search-results"></div>

			</div>
		</section>
	</article>
	<article class="featured-profiles"><a name="profiles-anchor"></a>

		<section class="profiles-sum">
			<h2>Featured Profiles &darr;</h2>
			<a href="" class="profile-sum-link"></a>
			<a href="" class="profile-sum-link"></a>
			<a href="" class="profile-sum-link"></a>
			<a href="" class="profile-sum-link"></a>
		</section>
	</article>
</div>

</div>

{% endblock %}

{% block js %}

<script>

var homeInput = d3.select("#search-home .search-input");
d3.select("#search-switch.adv").on("click", function(){
	window.location = "/search/?q=" + homeInput.node().value;
  d3.event.preventDefault();
});

d3.select("#home-search-input").on("input", function() {
  var inputText = document.getElementById("home-search-input").value;
  d3.select(".search-input-text").text(inputText);
});

</script>

{% endblock %}
