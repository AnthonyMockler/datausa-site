{% extends "templates/nav.html" %}

{% block body %}
<div class="home-container">
	<div class="bg">
		<div class="landing" style="background-image: url('/static/img/home/bg/{{bg_imgs}}.jpg')"></div>
		<div class="strip"></div>
	</div>

<div class="content">
	<article class="landing">

		<img class="logo" src="/static/img/home/logo_4.png" alt="DataUSA" />
		
		<section class="search-home-container">
			<a href="/search/" id="search-switch" class="adv" onclick="advSearch.toggle();">Advanced Search</a>
			<div class="search-input-btn closed">
				<span class="search-glass"></span>
				<input type="text" data-results="search-home" data-search="home" placeholder="Search a profile&hellip;" id="home-search-input" class="search-input" />
			</div>
			<div id="search-home" class="search-body">
				<div class="search-results"></div>
			</div>
      <section class="results-show-all">
        <a href="/search/">Show all results <span class="more"></span></a>
      </section>
		</section>
	</article>
</div>

</div>

{% endblock %}

{% block js %}

<script>

d3.select(".search-glass").on("click", function(){
	d3.select(".search-input-btn").classed("closed", !d3.select(".search-input-btn").classed("closed"));
});

var homeInput = d3.select("#home-search-input");
d3.select("#search-switch.adv").on("click", function(){
	window.location = "/search/?q=" + homeInput.node().value;
  d3.event.preventDefault();
});

d3.select("#home-search-input").on("input", function() {
  var inputText = document.getElementById("home-search-input").value;
  d3.select(".search-input-text").text(inputText);
});

</script>

{% endblock %}
