title: "Input/Output"
description: "The Bureau of Labor and Statistics publishes a course dataset on inter-industry purchases. By extrapolating this data, we can produce a picture of how a specific industry buys and sells to and from other industries."

topics:
  - slug: "sankey"
    subtitle: "<<sub attr_type=industry_iocode|show=commodity_iocode|required=value_millions|sumlevel=naics|industry_level=0>>"
    viz:
      attrs: "iocode"
      data:
        - industry_iocode: "<<sub attr_type=industry_iocode|show=commodity_iocode|required=value_millions|sumlevel=naics|industry_level=0|key=id>>"
          industry_level: 0
          sumlevel: "naics"
          required: "value_millions"
          show: "commodity_iocode"
          map:
            id: "industry_iocode"
            use: "commodity_iocode"
        - commodity_iocode: "<<sub attr_type=industry_iocode|show=commodity_iocode|required=value_millions|sumlevel=naics|industry_level=0|key=id>>"
          industry_level: 0
          sumlevel: "naics"
          required: "value_millions"
          show: "industry_iocode"
          map:
            id: "commodity_iocode"
            make: "industry_iocode"
      highlight: "<<sub attr_type=industry_iocode|show=commodity_iocode|required=value_millions|sumlevel=naics|industry_level=0|key=id>>"
      id: "id"
      type: "sankey"
  - title: "Consumption"
    slug: "tmap_consumption"
    subtitle: "<<sub attr_type=industry_iocode|show=commodity_iocode|required=value_millions|sumlevel=naics>>"
    stat:
      - title: "Highest Input Industry"
        value: "<<var namespace=io_commodity|key=commodity_iocode|row=0>>"
        subvalues:
          - "<<var namespace=io_commodity|key=commodity_iocode|row=1>>"
          - "<<var namespace=io_commodity|key=commodity_iocode|row=2>>"
    description: "Here we can see the input industries for <<name>> by their share of the overall use. As seen above, the top industry is <<top attr_type=industry_iocode|show=commodity_iocode|order=value_millions|sumlevel=naics>>."
    viz:
      attrs: "iocode"
      data:
        - industry_iocode: "<<id>>"
          industry_level: "<<sub attr_type=industry_iocode|show=commodity_iocode|required=value_millions|sumlevel=naics|key=level>>"
          sumlevel: "naics"
          required: "value_millions"
          show: "commodity_iocode"
          where: "value_millions:!0"
      depth: 1
      id:
        - "parent"
        - "commodity_iocode"
      size: "value_millions"
      type: "tree_map"
  - title: "Production"
    slug: "tmap_production"
    subtitle: "<<sub attr_type=industry_iocode|show=commodity_iocode|required=value_millions|sumlevel=naics|industry_level=1>>"
    stat:
      - title: "Highest Output Industry"
        value: "<<var namespace=io_industry|key=industry_iocode|row=0>>"
        subvalues:
          - "<<var namespace=io_industry|key=industry_iocode|row=1>>"
          - "<<var namespace=io_industry|key=industry_iocode|row=2>>"
    description: "Here, we see the industries by their use of the <<name>> <<level short=True>>."
    viz:
      attrs: "iocode"
      data:
        - commodity_iocode: "<<id>>"
          industry_level: "<<sub attr_type=industry_iocode|show=commodity_iocode|required=value_millions|sumlevel=naics|key=level>>"
          sumlevel: "naics"
          required: "value_millions"
          show: "industry_iocode"
          where: "value_millions:!0"
      depth: 1
      id:
        - "parent"
        - "industry_iocode"
      size: "value_millions"
      type: "tree_map"
